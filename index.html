<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Etch-A-Sketch</title>
</head>
<body>
    <div id="gridContainer" style="border: 1px solid black; width: 75vh;">

    </div>
    <input type="text" id="input">
    <button onclick="changeGridSize()">Change Grid Size</button>
    <button onclick="resetGrid(16)">Reset Grid</button>
    <script>
        let hue = 0;

        function createGrid(size) {
            let container = document.getElementById("gridContainer");

            for (let i = 0; i < size; i++) {
                let row = document.createElement('div');
                row.style = 'display: flex; flex-wrap: wrap'
                for (let j = 0; j < size; j++) {
                    let column = document.createElement('div');
                    column.style = `height: ${75/size}vh; width: ${75/size}vh; box-sizing: border-box; border: 1px solid black;`;
                    column.classList.add('column');
                    row.appendChild(column);
                    column.addEventListener('mouseover', () => {
                        column.setAttribute('style', `background-color: hsl(${hue}, 100%, 50%); height: ${75/size}vh; width: ${75/size}vh; box-sizing: border-box; border: 1px solid hsl(${hue}, 100%, 50%);`);
                        hue++;
                    });
                }
                container.appendChild(row);
            
            }
        }

        function resetGrid(size) {
            let grid = document.querySelectorAll('.column');
            grid.forEach(square => {
                square.remove();
            });
            createGrid(size);
        }

        function changeGridSize() {
            let input = document.getElementById('input');
            let size = parseInt(input.value);
            if (size >= 100) {
                size = 100;
            }
            if (size <= 0) {
                size = 1;
            }
            resetGrid(size);
        }
        createGrid(16);

        

    </script>
</body>
</html>